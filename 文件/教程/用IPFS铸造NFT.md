标题|简介
|---|---|
使用IPFS铸造NFT|非同质化代币（NFT）允许用户创造和交易不同价值的数字资产。从零开始学习如何铸造一个NFT并且把它储存在IPFS，并且学习如何使用Pinata的远程锁定服务。  

# 使用IPSFS铸造NFT  

非同质化代币（NFT）允许用户创造和交易不同价值的数字资产。从零开始学习如何铸造一个NFT并且在远程锁定服务，像是Pinata和nft.storage的帮助下把它储存在IPFS。  

由于IPFS并不是一个区块链，我们会在这个教程使用以太坊。但是不仅仅是以太坊，我们也能把本次的教程轻松套用在别的区块链上。  

## NFT简介  

本次教程不会深入讲解NFT或者讨论其重要性和潜能。本次教程仅仅是帮助你学习如何使用IPFS托管你的NFT，并且了解这个过程是如何扩展至区块链开发的其它方面。  

因此，我们会尝试概况最基本的NFT知识，以确保大家是在同一个频道上。如果你想学习更多关于创造NFT的最佳实践和开发过程，可以前往[NFT School](https://nftschool.dev)。  

### NFT是如何组成的   

不论是什么平台，NFT拥有着几个关键特征。  

首先，每个非同质化代币拥有自己独一无二的编号，用于在其他代币之间区别自己。这跟同质化代币有非常鲜明的对比，像是以太 `ETH`，以一个数量存在于户口或者钱包。我们不能区别每个`ETH`。正因为NFT是独一无二的，它们是被独立交易和独立拥有的，而智能合约负责追踪是谁拥有这些NFT。  

另一个NFT的关键特征是它可以于储存在智能合约外的数据做链接。储存并且处理智能合约外的数据我们称之为 _链下_（off-chain）。这是因为凡是储存在链上的数据都需要被处理，验证，和广播到整个区块链网络，导致储存巨大的数据是非常昂贵的。NFT的应用就存在了这个问题，尤其是当NFT代表着一些艺术画作和收藏品，那么保存它们可以花费上百万美金。  

### IPFS如何解决问题  

当创建NFT并将其链接到存在于其他系统上的数字资产时，那么链接数据的方式就非常的关键。有几个原因导致了传统的HTTP链接并不适合应用。  

例如像这样的HTTP地址 `https://cloud-bucket.provider.com/my-nft.jpeg`，只要服务器的主人支付账单，任何人都可以获取 `my-nft.jpeg` 的内容。但是，我们永远无法保证 `my-nft.jpeg` 的内容与创建NFT时的内容是相同的。那是因为，服务器的主人可以随时将 `my-nft.jpeg` 替换为完全不同的图像，从而导致NFT失去了原有所代表的含义。  

这种称为“跑路”的事件也曾经发生过。一名画家创建了自己的NFTs并且卖出后，就把原本的图像进行替换，再把原图卖给其他人。  

IPFS通过内容寻址技术解决了这个问题。当你把数据保存到IPFS，IPFS会基于你的数据内容生成一个内容标识（content identifier: CID），而内容标识是链接到你刚上传到IPFS的数据。由于每个CID只能指向一个内容，并且是独一无二的，因此我们也不必害怕内容被替换或者篡改。  

当你使用CID，即使原著消失了，只要IPFS网络上存在着至少一份你想要的数据，你都能成功获取这份数据。这使得CIDs非常适合用于储存NFT。我们需要做的就只是把CID输入在 `ipfs://` 的统一资源标志符（URI）：`ipfs://bafybeidlkqhddsjrdue7y3dy27pu5d7ydyemcls4z24szlyik3we7vqvam/nft-image.png`。这样，就拥有了一个从区块链至代币数据之间无法被破坏的链接了。  

当然，在某些情况之下，我们会想要再发布了NFT后更新其元数据。这完全办得到！你只需要在智能合约中添加一个机制，那就是在每次更新代币的数据后自动更新URI。这将让你旧的IPFS URI更改为新的URI，同时初始版本的记录仍然在区块链的交易历史中保留下来。这增加了透明度，并让每个人都清楚知道更改了什么内容、何时以及由谁更改。
